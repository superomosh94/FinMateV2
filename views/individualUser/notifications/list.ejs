<%
    layout = 'layouts/main';
    title = 'Notifications';
    currentPage = 'notifications';
%>

<div class="d-flex justify-content-between align-items-center mb-4">
    <h3>Notifications</h3>
</div>

<div class="card shadow">
    <div class="card-body">
        <% if (notifications && notifications.length > 0) { %>
            <div class="list-group">
                <% notifications.forEach(notification => { %>
                    <div class="list-group-item list-group-item-action">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1">
                                <span class="badge 
                                    <% if (notification.type === 'success') { %>bg-success<% } %>
                                    <% if (notification.type === 'warning') { %>bg-warning<% } %>
                                    <% if (notification.type === 'error') { %>bg-danger<% } %>
                                    <% if (notification.type === 'info') { %>bg-info<% } %>">
                                    <%= notification.type %>
                                </span>
                                <%= notification.title %>
                            </h6>
                            <small class="text-muted">
                                <%= new Date(notification.created_at).toLocaleDateString() %>
                            </small>
                        </div>
                        <p class="mb-1"><%= notification.message %></p>
                    </div>
                <% }) %>
            </div>
        <% } else { %>
            <div class="text-center py-5">
                <i class="fas fa-bell-slash fa-3x text-muted mb-3"></i>
                <h5 class="text-muted">No notifications</h5>
                <p class="text-muted">You're all caught up!</p>
            </div>
        <% } %>
    </div>
</div>